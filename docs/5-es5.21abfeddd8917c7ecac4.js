function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"h/QJ":function(t,e,n){"use strict";n.r(e),n.d(e,"GrecohModule",(function(){return wt}));var i,r,s,c=n("ofXK"),a=n("tyNb"),o=n("fXoL"),u=((r=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||r)},r.\u0275cmp=o.Gb({type:r,selectors:[["app-grecoh"]],decls:12,vars:0,consts:[[1,"container"],[1,"jumbotron"],["type","button","routerLink","../paintings",1,"btn","btn-primary","btn-lg","btn-block"]],template:function(t,e){1&t&&(o.Rb(0,"div",0),o.Rb(1,"header",1),o.Rb(2,"h1"),o.Cc(3,"Experimento sobre armon\xeda de color"),o.Qb(),o.Rb(4,"p"),o.Cc(5,"A lo largo de la historia, dise\xf1adoras, dise\xf1adores y artistas han ordenado los elementos del espacio gr\xe1fico partiendo de estructuras \u201cocultas\u201d, con el fin de que resulten s\xf3lidas y equilibradas. Llamamos a este proceso \u201cComposici\xf3n\u201d."),o.Qb(),o.Rb(6,"p"),o.Cc(7,"Para llevar a cabo la composici\xf3n del espacio gr\xe1fico, podemos jugar con diferentes factores, y en este caso te proponemos jugar con el color. En cada obra ver\xe1s que hay un objeto con diferentes opciones crom\xe1ticas. Valora de 1 a 5 cada opci\xf3n, en funci\xf3n de si te resulta poco equilibrada (1 punto) o muy equilibrada (5 puntos). "),o.Qb(),o.Rb(8,"p"),o.Cc(9,"En cada caso podr\xe1s comprobar al final la valoraci\xf3n que has concedido a las composiciones originales, las coincidencias con otros usuarios. Adem\xe1s podr\xe1s escribir las conclusiones que hayas obtenido y compartirlas con otros usuarios. "),o.Rb(10,"button",2),o.Cc(11,"Iniciar experimento"),o.Qb(),o.Qb(),o.Qb(),o.Qb())},directives:[a.c],styles:["header[_ngcontent-%COMP%]{margin-top:2vh}"]}),r),g=((i=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||i)},i.\u0275cmp=o.Gb({type:i,selectors:[["app-grecoh-admin"]],decls:2,vars:0,template:function(t,e){1&t&&(o.Rb(0,"p"),o.Cc(1,"grecoh-admin works!"),o.Qb())},styles:[""]}),i),l=n("kt0X"),b=Object(l.h)("grecoh"),p=Object(l.i)(b,(function(t){return t.paintings})),h=Object(l.i)(b,(function(t){return t.selectedPainting})),f=Object(l.i)(b,(function(t){return t.paintingVersions})),v=Object(l.i)(b,(function(t){return t.paintingStatistics})),d=Object(l.i)(b,(function(t){return t.postScoresResult})),S=Object(l.i)(b,(function(t){return t.paintingVersionScores})),m=Object(l.i)(b,(function(t){return t.apiRestServerError})),y=function(t){return t.ResetGrecohServerError="[Grecoh] Server error reset",t.GrecohServerError="[Grecoh] Server error",t.GetPaintings="[Grecoh] Get paintings",t.GetPaintingsSuccess="[Grecoh] Get paintings success",t.GetPainting="[Grecoh] Get painting",t.GetPaintingSuccess="[Grecoh] Get painting success",t.GetPaintingVersions="[Grecoh] Get painting versions",t.GetPaintingVersionsSuccess="[Grecoh] Get painting versions success",t.PostPaintingVersionsScores="[Grecoh] Post painting version scores",t.PostPaintingVersionsScoresSuccess="[Grecoh] Post painting version scores success",t.GetPaintingStatistics="[Grecoh] Get painting statistics",t.GetPaintingStatisticsSuccess="[Grecoh] Get painting statistics success",t.GetPaintingVersionScores="[Grecoh] Get painting version scores",t.GetPaintingVersionScoresSuccess="[Grecoh] Get painting version scores success",t}({}),C=function t(){_classCallCheck(this,t),this.type=y.ResetGrecohServerError},k=function t(e){_classCallCheck(this,t),this.serverError=e,this.type=y.GrecohServerError},O=function t(){_classCallCheck(this,t),this.type=y.GetPaintings},P=function t(e){_classCallCheck(this,t),this.paintings=e,this.type=y.GetPaintingsSuccess},j=function t(e){_classCallCheck(this,t),this.id=e,this.type=y.GetPainting},_=function t(e){_classCallCheck(this,t),this.painting=e,this.type=y.GetPaintingSuccess},R=function t(e){_classCallCheck(this,t),this.paintingId=e,this.type=y.GetPaintingVersions},I=function t(e){_classCallCheck(this,t),this.paintingVersions=e,this.type=y.GetPaintingVersionsSuccess},w=function t(e){_classCallCheck(this,t),this.userPaintingVersionScores=e,this.type=y.PostPaintingVersionsScores},V=function t(e){_classCallCheck(this,t),this.success=e,this.type=y.PostPaintingVersionsScoresSuccess},G=function t(e){_classCallCheck(this,t),this.paintingID=e,this.type=y.GetPaintingStatistics},$=function t(e){_classCallCheck(this,t),this.paintingStatistics=e,this.type=y.GetPaintingStatisticsSuccess},E=function t(e){_classCallCheck(this,t),this.paintingVersionID=e,this.type=y.GetPaintingVersionScores},Q=function t(e){_classCallCheck(this,t),this.paintingVersionScores=e,this.type=y.GetPaintingVersionScoresSuccess},x=n("5eHb"),M=((s=function(){function t(e){_classCallCheck(this,t),this.toastr=e}return _createClass(t,[{key:"warning",value:function(t){this.toastr.warning(t.detailedMessage,t.message)}}]),t}()).\u0275fac=function(t){return new(t||s)(o.Zb(x.b))},s.\u0275prov=o.Ib({token:s,factory:s.\u0275fac,providedIn:"root"}),s),A=function(t){return["../painting",t]};function z(t,e){if(1&t&&(o.Rb(0,"div",5),o.Rb(1,"div",6),o.Cc(2),o.Qb(),o.Rb(3,"div",7),o.Rb(4,"h5",8),o.Cc(5),o.Qb(),o.Rb(6,"p",9),o.Nb(7,"img",10),o.Qb(),o.Rb(8,"a",11),o.Cc(9,"Comienza"),o.Qb(),o.Qb(),o.Qb()),2&t){var n=e.$implicit,i=o.fc();o.zb(2),o.Ec(" ",n.painter,""),o.zb(3),o.Ec(" ",n.title," "),o.zb(2),o.mc("alt","Grayscale image of ",n.title,""),o.kc("src",i.getGrayscaleImage(n),o.uc),o.zb(1),o.kc("routerLink",o.nc(5,A,n.id))}}var D,F=((D=function(){function t(e,n){_classCallCheck(this,t),this.store=e,this.showErrorService=n}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.paintings$=this.store.select(p),this.store.dispatch(new O),this.serverErrorSubscription=this.store.select(m).subscribe((function(e){e&&(t.showErrorService.warning(e),t.store.dispatch(new C))}))}},{key:"trackByPainting",value:function(t,e){return e.id}},{key:"getGrayscaleImage",value:function(t){return"assets/paintings/".concat(t.painter_slug,"/").concat(t.slug,"/grayscale.jpg")}},{key:"ngOnDestroy",value:function(){this.serverErrorSubscription.unsubscribe()}}]),t}()).\u0275fac=function(t){return new(t||D)(o.Mb(l.b),o.Mb(M))},D.\u0275cmp=o.Gb({type:D,selectors:[["app-grecoh-paintings"]],decls:12,vars:4,consts:[[1,"container-fluid"],[1,"row"],[1,"col"],["id","cards"],["class","card border-dark",4,"ngFor","ngForOf","ngForTrackBy"],[1,"card","border-dark"],[1,"card-header"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"img-thumbnail",3,"src","alt"],[1,"btn","btn-primary",3,"routerLink"]],template:function(t,e){1&t&&(o.Rb(0,"div",0),o.Rb(1,"div",1),o.Rb(2,"div",2),o.Rb(3,"h1"),o.Cc(4,"Experimento sobre armon\xeda de color"),o.Qb(),o.Rb(5,"h3"),o.Cc(6,"Selecciona una de las obras"),o.Qb(),o.Qb(),o.Qb(),o.Rb(7,"div",1),o.Rb(8,"div",2),o.Rb(9,"div",3),o.Ac(10,z,10,7,"div",4),o.gc(11,"async"),o.Qb(),o.Qb(),o.Qb(),o.Qb()),2&t&&(o.zb(10),o.kc("ngForOf",o.hc(11,2,e.paintings$))("ngForTrackBy",e.trackByPainting))},directives:[c.l,a.d],pipes:[c.b],styles:["#cards[_ngcontent-%COMP%]{height:90vh;display:flex;flex-direction:column;flex-wrap:wrap;aoverflow:auto}#cards[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{max-width:30vw;margin:5px}"]}),D),B=n("7dP1"),N=n("1kSV"),L=n("3Pt+");function T(t,e){if(1&t){var n=o.Sb();o.Rb(0,"p"),o.Rb(1,"button",12),o.dc("click",(function(){return o.sc(n),o.fc(3).sendScores()})),o.Cc(2,"Env\xeda resultados"),o.Qb(),o.Qb()}}function q(t,e){if(1&t){var n=o.Sb();o.Rb(0,"div",16),o.Rb(1,"div",6),o.Nb(2,"img",17),o.Qb(),o.Qb(),o.Rb(3,"div",18),o.Rb(4,"p"),o.Cc(5," Valoraci\xf3n: "),o.Rb(6,"ngb-rating",19),o.dc("rateChange",(function(t){return o.sc(n),o.fc().$implicit.value=t})),o.Qb(),o.Qb(),o.Rb(7,"p"),o.Cc(8," Comentarios sobre la valoraci\xf3n (opcional): "),o.Rb(9,"textarea",20),o.dc("ngModelChange",(function(t){return o.sc(n),o.fc().$implicit.comments=t})),o.Qb(),o.Qb(),o.Qb()}if(2&t){var i=o.fc().$implicit,r=o.fc(3);o.zb(2),o.kc("src",r.getVersionImage(i.paintingVersion),o.uc),o.zb(4),o.kc("max",5)("rate",i.value),o.zb(3),o.kc("ngModel",i.comments)}}var Z=function(t){return{"border-bottom-color":t}};function J(t,e){if(1&t&&(o.Rb(0,"li",13),o.Rb(1,"a",14),o.Cc(2),o.Qb(),o.Ac(3,q,10,4,"ng-template",15),o.Qb()),2&t){var n=e.$implicit;o.kc("ngbNavItem",n.painting_version_id),o.zb(1),o.yc(o.nc(4,Z,"#"+n.paintingVersion.color_hexa)),o.zb(1),o.Ec(" ",n.paintingVersion.color_hexa," ")}}function K(t,e){if(1&t&&(o.Rb(0,"div",4),o.Rb(1,"div",5),o.Rb(2,"div",6),o.Rb(3,"h5"),o.Cc(4),o.Qb(),o.Ac(5,T,3,0,"p",7),o.Rb(6,"p"),o.Cc(7,"Valora TODAS las opciones"),o.Qb(),o.Rb(8,"ul",8,9),o.Ac(10,J,4,6,"li",10),o.Qb(),o.Nb(11,"div",11),o.Qb(),o.Qb(),o.Qb()),2&t){var n=o.rc(9),i=o.fc().ngIf,r=o.fc();o.zb(4),o.Dc(i.title),o.zb(1),o.kc("ngIf",r.isAllScoresAnswered()),o.zb(5),o.kc("ngForOf",r.scores)("ngForTrackBy",r.trackByPaintingVersionFn),o.zb(1),o.kc("ngbNavOutlet",n)}}function X(t,e){if(1&t&&(o.Rb(0,"div"),o.Ac(1,K,12,5,"div",3),o.Qb()),2&t){var n=o.fc(),i=o.rc(4);o.zb(1),o.kc("ngIf",n.scores)("ngIfElse",i)}}function H(t,e){1&t&&(o.Rb(0,"div",21),o.Cc(1," Loading ... "),o.Qb())}function U(t,e){if(1&t&&(o.Rb(0,"div",4),o.Rb(1,"h4"),o.Cc(2),o.Qb(),o.Rb(3,"p"),o.Cc(4,"Resultados globales"),o.Qb(),o.Qb()),2&t){var n=e.ngIf;o.zb(2),o.Dc(n.title)}}function W(t,e){1&t&&(o.Rb(0,"div",5),o.Cc(1," Loading ... "),o.Qb())}function Y(t,e){if(1&t){var n=o.Sb();o.Rb(0,"div",18),o.Rb(1,"div",19),o.Rb(2,"ngb-rating",20),o.dc("rateChange",(function(t){return o.sc(n),e.$implicit.value=t})),o.Qb(),o.Qb(),o.Rb(3,"div",21),o.Cc(4),o.Qb(),o.Qb()}if(2&t){var i=e.$implicit;o.zb(2),o.kc("max",5)("rate",i.value),o.zb(2),o.Ec(" ",i.comments," ")}}function tt(t,e){if(1&t&&(o.Rb(0,"div",16),o.Ac(1,Y,5,3,"div",17),o.Qb()),2&t){var n=o.fc(2).$implicit,i=o.fc(2);o.zb(1),o.kc("ngForOf",i.paintingVersionsScores.get(n.id))}}function et(t,e){if(1&t){var n=o.Sb();o.Rb(0,"button",22),o.dc("click",(function(){o.sc(n);var t=o.fc(2).$implicit;return o.fc(2).retrieveScores(t)})),o.Cc(1," Muestra todas puntuaciones y comentarios "),o.Qb()}}var nt=function(t){return{"border-bottom-color":t}};function it(t,e){if(1&t&&(o.Rb(0,"div",9),o.Nb(1,"img",10),o.Rb(2,"div",11),o.Nb(3,"ngb-rating",12),o.Rb(4,"pre",13),o.Cc(5),o.Qb(),o.Rb(6,"pre"),o.Cc(7),o.Qb(),o.Ac(8,tt,2,1,"div",14),o.Ac(9,et,2,0,"ng-template",null,15,o.Bc),o.Qb(),o.Qb()),2&t){var n=o.rc(10),i=o.fc().$implicit,r=o.fc().ngIf,s=o.fc();o.zb(1),o.kc("src",s.getVersionImage(i),o.uc),o.zb(2),o.kc("max",5)("rate",s.getAverage(r,i))("readonly",!0),o.zb(1),o.yc(o.nc(10,nt,"#"+i.color_hexa)),o.zb(1),o.Ec("Valoraci\xf3n media: ",s.getAverage(r,i),""),o.zb(2),o.Ec("Discordancia entre valoraciones: ",s.getStandardDeviation(r,i),""),o.zb(1),o.kc("ngIf",s.getScores(i))("ngIfElse",n)}}function rt(t,e){1&t&&o.Ac(0,it,11,12,"ng-template",8)}function st(t,e){if(1&t&&(o.Rb(0,"ngb-carousel",6),o.Ac(1,rt,1,0,void 0,7),o.gc(2,"async"),o.Qb()),2&t){var n=o.fc();o.kc("interval",0),o.zb(1),o.kc("ngForOf",o.hc(2,3,n.paintingVersions$))("ngForTrackBy",n.trackByPaintingVersion)}}var ct,at,ot,ut,gt,lt=[{path:"home",component:u},{path:"paintings",component:F},{path:"painting/:id",component:(at=function(){function t(e,n,i,r,s){_classCallCheck(this,t),this.router=e,this.route=n,this.store=i,this.showErrorService=r,this.authService=s}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.route.paramMap.subscribe((function(e){t.paintingID=+t.route.snapshot.paramMap.get("id"),t.store.dispatch(new j(t.paintingID)),t.store.dispatch(new R(t.paintingID))})),this.painting$=this.store.select(h),this.paintingVersionsSubscription=this.store.select(f).subscribe((function(e){e&&(t.scores=[],e.forEach((function(e){t.scores.push({paintingVersion:e,painting_version_id:e.id})})))})),this.serverErrorSubscription=this.store.select(m).subscribe((function(e){e&&(t.showErrorService.warning(e),t.store.dispatch(new C))})),this.authSubscription=this.authService.userProfile$.subscribe((function(e){e&&(t.userEMail=e.email)})),this.insertionSubscription=this.store.select(d).subscribe((function(e){e&&(console.log("Redirecciono con painting ID="+t.paintingID),t.router.navigate(["/grecoh/statistics",t.paintingID]))}))}},{key:"trackByPaintingVersionFn",value:function(t,e){return e.painting_version_id}},{key:"getVersionImage",value:function(t){return"assets/paintings/".concat(t.painter_slug,"/").concat(t.slug,"/").concat(t.color_hexa,".jpg")}},{key:"getColor",value:function(t){return"#".concat(t.color_hexa)}},{key:"ngOnDestroy",value:function(){this.authSubscription.unsubscribe(),this.serverErrorSubscription.unsubscribe(),this.insertionSubscription.unsubscribe(),this.paintingVersionsSubscription.unsubscribe()}},{key:"isAllScoresAnswered",value:function(){var t=0;return this.scores.forEach((function(e){e.value&&t++})),t>=this.scores.length}},{key:"sendScores",value:function(){var t=[];this.scores.forEach((function(e){t.push({painting_version_id:e.painting_version_id,comments:e.comments,value:e.value})})),this.store.dispatch(new w({painting_id:this.paintingID,scores:t,email:this.userEMail}))}},{key:"getBorderStyle",value:function(t){return{color:"#"+t}}}]),t}(),at.\u0275fac=function(t){return new(t||at)(o.Mb(a.b),o.Mb(a.a),o.Mb(l.b),o.Mb(M),o.Mb(B.a))},at.\u0275cmp=o.Gb({type:at,selectors:[["app-grecoh-painting"]],decls:5,vars:4,consts:[[1,"container-fluid"],[4,"ngIf","ngIfElse"],["loading",""],["class","row",4,"ngIf","ngIfElse"],[1,"row"],[1,"col-12","d-flex"],[1,"mx-auto"],[4,"ngIf"],["ngbNav","",1,"nav-pills"],["nav","ngbNav"],[3,"ngbNavItem",4,"ngFor","ngForOf","ngForTrackBy"],[1,"mt-2",3,"ngbNavOutlet"],[1,"btn-primary",3,"click"],[3,"ngbNavItem"],["ngbNavLink","",1,"paintingVersionButton"],["ngbNavContent",""],[1,"d-flex"],["alt","Colored painting",1,"versionImage",3,"src"],[1,"version_score"],[3,"max","rate","rateChange"],[3,"ngModel","ngModelChange"],[1,"jumbotron"]],template:function(t,e){if(1&t&&(o.Rb(0,"div",0),o.Ac(1,X,2,2,"div",1),o.gc(2,"async"),o.Ac(3,H,2,0,"ng-template",null,2,o.Bc),o.Qb()),2&t){var n=o.rc(4);o.zb(1),o.kc("ngIf",o.hc(2,2,e.painting$))("ngIfElse",n)}},directives:[c.m,N.f,c.l,N.k,N.h,N.i,N.g,N.l,L.a,L.e,L.f],pipes:[c.b],styles:[".paintingVersionButton[_ngcontent-%COMP%]{border-bottom-style:solid;border-bottom-width:5px}.versionImage[_ngcontent-%COMP%]{max-width:80vw;max-height:50vh}.version_score[_ngcontent-%COMP%]{margin-top:5px;text-align:center}"]}),at)},{path:"statistics/:id",component:(ct=function(){function t(e,n,i){_classCallCheck(this,t),this.route=e,this.store=n,this.showErrorService=i,this.paintingVersionsScores=new Map}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.route.paramMap.subscribe((function(e){t.paintingID=+t.route.snapshot.paramMap.get("id"),t.store.dispatch(new j(t.paintingID)),t.store.dispatch(new R(t.paintingID)),t.store.dispatch(new G(t.paintingID))})),this.painting$=this.store.select(h),this.paintingVersions$=this.store.select(f),this.paintingStatistics$=this.store.select(v),this.paintingVersionScoresSubscription=this.store.select(S).subscribe((function(e){e&&e.length>0&&t.paintingVersionsScores.set(e[0].painting_version_id,e)}))}},{key:"trackByPaintingVersion",value:function(t,e){return e.id}},{key:"getVersionImage",value:function(t){return"assets/paintings/".concat(t.painter_slug,"/").concat(t.slug,"/").concat(t.color_hexa,".jpg")}},{key:"getAverage",value:function(t,e){var n=t.find((function(t){return t.painting_version_id===e.id}));return n?n.average:-1}},{key:"getStandardDeviation",value:function(t,e){var n=t.find((function(t){return t.painting_version_id===e.id}));return n?n.standard_deviation:-1}},{key:"retrieveScores",value:function(t){this.store.dispatch(new E(t.id))}},{key:"ngOnDestroy",value:function(){this.paintingVersionScoresSubscription.unsubscribe()}},{key:"getScores",value:function(t){return this.paintingVersionsScores.get(t.id)}}]),t}(),ct.\u0275fac=function(t){return new(t||ct)(o.Mb(a.a),o.Mb(l.b),o.Mb(M))},ct.\u0275cmp=o.Gb({type:ct,selectors:[["app-score-statistics"]],decls:7,vars:8,consts:[[1,"container-fluid"],["class","jumbotron-fluid",4,"ngIf","ngIfElse"],["loading",""],["class","text-center",3,"interval",4,"ngIf","ngIfElse"],[1,"jumbotron-fluid"],[1,"jumbotron"],[1,"text-center",3,"interval"],[4,"ngFor","ngForOf","ngForTrackBy"],["ngbSlide",""],[1,"picsum-img-wrapper"],["alt","Colored painting",1,"versionImageStatistics",3,"src"],[1,"carousel-caption"],[3,"max","rate","readonly"],[1,"scoreStatistic"],["id","comments",4,"ngIf","ngIfElse"],["buttonRetrieveScores",""],["id","comments"],["class","card",4,"ngFor","ngForOf"],[1,"card"],[1,"card-title"],[3,"max","rate","rateChange"],[1,"card-text","scoreSomment"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(t,e){if(1&t&&(o.Rb(0,"div",0),o.Ac(1,U,5,1,"div",1),o.gc(2,"async"),o.Ac(3,W,2,0,"ng-template",null,2,o.Bc),o.Ac(5,st,3,5,"ngb-carousel",3),o.gc(6,"async"),o.Qb()),2&t){var n=o.rc(4);o.zb(1),o.kc("ngIf",o.hc(2,4,e.painting$))("ngIfElse",n),o.zb(4),o.kc("ngIf",o.hc(6,6,e.paintingStatistics$))("ngIfElse",n)}},directives:[c.m,N.a,c.l,N.n,N.l],pipes:[c.b],styles:[".carousel-caption[_ngcontent-%COMP%]{position:relative!important;text-align:center;left:auto;right:auto}.versionImageStatistics[_ngcontent-%COMP%]{max-width:80vw;max-height:50vh}.scoreStatistic[_ngcontent-%COMP%]{border-bottom-style:solid;border-bottom-width:5px}.scoreSomment[_ngcontent-%COMP%]{text-align:justify!important}"]}),ct)},{path:"admin",component:g}],bt=((ot=function t(){_classCallCheck(this,t)}).\u0275mod=o.Kb({type:ot}),ot.\u0275inj=o.Jb({factory:function(t){return new(t||ot)},imports:[[a.e.forChild(lt)],a.e]}),ot),pt=n("z6cu"),ht=n("JIr8"),ft=n("AytR"),vt=n("tk/3"),dt=n("E3Zs"),St=((gt=function(){function t(e,n){_classCallCheck(this,t),this.httpClient=e,this.logger=n,this.url=ft.a.apiEndpoint}return _createClass(t,[{key:"createAPIServerError",value:function(t){return{url:t.url,message:t.error.error,detailedMessage:t.error.message,status:t.error.status}}},{key:"getList$",value:function(t){var e,n=this;return e="".concat(this.url,"/").concat(t),this.logger.debug("RestClientService#getList "+e),this.httpClient.get(e).pipe(Object(ht.a)((function(t){return Object(pt.a)(n.createAPIServerError(t))})))}},{key:"getBlob$",value:function(t){var e,n=this;return e="".concat(this.url,"/").concat(t),this.logger.debug("RestClientService#getBlob "+e),this.httpClient.get(e,{responseType:"blob"}).pipe(Object(ht.a)((function(t){return Object(pt.a)(n.createAPIServerError(t))})))}},{key:"get$",value:function(t){var e,n=this;return e="".concat(this.url,"/").concat(t),this.logger.debug("RestClientService#get "+e),this.httpClient.get(e).pipe(Object(ht.a)((function(t){return Object(pt.a)(n.createAPIServerError(t))})))}},{key:"post$",value:function(t,e){var n,i=this;return n="".concat(this.url,"/").concat(t),this.logger.debug("RestClientService#post "+n),this.httpClient.post(n,e).pipe(Object(ht.a)((function(t){return Object(pt.a)(i.createAPIServerError(t))})))}},{key:"put$",value:function(t,e){var n,i=this;return n="".concat(this.url,"/").concat(t),this.logger.debug("RestClientService#put "+n),this.httpClient.put(n,e).pipe(Object(ht.a)((function(t){return Object(pt.a)(i.createAPIServerError(t))})))}},{key:"delete$",value:function(t,e){var n,i=this;return n="".concat(this.url,"/").concat(t,"/").concat(e),this.logger.debug("RestClientService#put "+n),this.httpClient.delete(n).pipe(Object(ht.a)((function(t){return Object(pt.a)(i.createAPIServerError(t))})))}}]),t}()).\u0275fac=function(t){return new(t||gt)(o.Zb(vt.b),o.Zb(dt.b))},gt.\u0275prov=o.Ib({token:gt,factory:gt.\u0275fac,providedIn:"root"}),gt),mt=((ut=function(){function t(e){_classCallCheck(this,t),this.apiRestClientService=e}return _createClass(t,[{key:"getPaintings$",value:function(){return this.apiRestClientService.get$("list_paintings.php?_ijt=sav6aq084tdi6va9t83me4f749")}},{key:"getPainting$",value:function(t){return this.apiRestClientService.get$("get_painting.php?id="+t)}},{key:"getPaintingVersions$",value:function(t){return this.apiRestClientService.get$("list_painting_versions.php?painting_id="+t)}},{key:"postPaintingVersionsScores$",value:function(t){return this.apiRestClientService.post$("insert_painting_version_scores.php",t)}},{key:"getPaintingStatistics$",value:function(t){return this.apiRestClientService.get$("list_painting_version_statistics.php?painting_id="+t)}},{key:"getPaintingVersionScores$",value:function(t){return this.apiRestClientService.get$("list_painting_version_scores.php?painting_version_id="+t)}}]),t}()).\u0275fac=function(t){return new(t||ut)(o.Zb(St))},ut.\u0275prov=o.Ib({token:ut,factory:ut.\u0275fac}),ut),yt=n("snw9"),Ct={paintings:null,apiRestServerError:null,selectedPainting:null,paintingVersions:null,paintingStatistics:null,postScoresResult:null,paintingVersionScores:null};function kt(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ct,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case y.ResetGrecohServerError:return Object.assign(Object.assign({},t),{apiRestServerError:null});case y.GrecohServerError:return Object.assign(Object.assign({},t),{apiRestServerError:e.serverError});case y.GetPaintingsSuccess:var n=Object.assign(Object.assign({},t),{apiRestServerError:null});return n.paintings=e.paintings,n;case y.GetPaintingSuccess:var i=Object.assign(Object.assign({},t),{apiRestServerError:null});return i.selectedPainting=e.painting,i;case y.GetPaintingVersionsSuccess:var r=Object.assign(Object.assign({},t),{apiRestServerError:null});return r.paintingVersions=e.paintingVersions,r;case y.PostPaintingVersionsScoresSuccess:var s=Object.assign(Object.assign({},t),{apiRestServerError:null});return s.postScoresResult=e.success,s;case y.GetPaintingStatisticsSuccess:var c=Object.assign(Object.assign({},t),{apiRestServerError:null});return c.paintingStatistics=e.paintingStatistics,c;case y.GetPaintingVersionScoresSuccess:var a=Object.assign(Object.assign({},t),{apiRestServerError:null});return a.paintingVersionScores=e.paintingVersionScores,a;default:return t}}var Ot,Pt,jt=n("mrSG"),_t=n("LRne"),Rt=n("eIep"),It=((Pt=function t(e,n){var i=this;_classCallCheck(this,t),this.grecohService=e,this.actions$=n,this.getPaintings$=this.actions$.pipe(Object(yt.d)(y.GetPaintings),Object(Rt.a)((function(t){return i.grecohService.getPaintings$().pipe(Object(Rt.a)((function(t){return Object(_t.a)(new P(t))})),Object(ht.a)((function(t){return Object(_t.a)(new k(t))})))}))),this.getPainting$=this.actions$.pipe(Object(yt.d)(y.GetPainting),Object(Rt.a)((function(t){return i.grecohService.getPainting$(t.id).pipe(Object(Rt.a)((function(t){return Object(_t.a)(new _(t))})),Object(ht.a)((function(t){return Object(_t.a)(new k(t))})))}))),this.getPaintingVersions$=this.actions$.pipe(Object(yt.d)(y.GetPaintingVersions),Object(Rt.a)((function(t){return i.grecohService.getPaintingVersions$(t.paintingId).pipe(Object(Rt.a)((function(t){return Object(_t.a)(new I(t))})),Object(ht.a)((function(t){return Object(_t.a)(new k(t))})))}))),this.postPaintingVersionsScores$=this.actions$.pipe(Object(yt.d)(y.PostPaintingVersionsScores),Object(Rt.a)((function(t){return i.grecohService.postPaintingVersionsScores$(t.userPaintingVersionScores).pipe(Object(Rt.a)((function(t){return Object(_t.a)(new V(t))})),Object(ht.a)((function(t){return Object(_t.a)(new k(t))})))}))),this.getPaintingStatistics$=this.actions$.pipe(Object(yt.d)(y.GetPaintingStatistics),Object(Rt.a)((function(t){return i.grecohService.getPaintingStatistics$(t.paintingID).pipe(Object(Rt.a)((function(t){return Object(_t.a)(new $(t))})),Object(ht.a)((function(t){return Object(_t.a)(new k(t))})))}))),this.getPaintingVersionScore$=this.actions$.pipe(Object(yt.d)(y.GetPaintingVersionScores),Object(Rt.a)((function(t){return i.grecohService.getPaintingVersionScores$(t.paintingVersionID).pipe(Object(Rt.a)((function(t){return Object(_t.a)(new Q(t))})),Object(ht.a)((function(t){return Object(_t.a)(new k(t))})))})))}).\u0275fac=function(t){return new(t||Pt)(o.Zb(mt),o.Zb(yt.a))},Pt.\u0275prov=o.Ib({token:Pt,factory:Pt.\u0275fac}),Object(jt.a)([Object(yt.b)()],Pt.prototype,"getPaintings$",void 0),Object(jt.a)([Object(yt.b)()],Pt.prototype,"getPainting$",void 0),Object(jt.a)([Object(yt.b)()],Pt.prototype,"getPaintingVersions$",void 0),Object(jt.a)([Object(yt.b)()],Pt.prototype,"postPaintingVersionsScores$",void 0),Object(jt.a)([Object(yt.b)()],Pt.prototype,"getPaintingStatistics$",void 0),Object(jt.a)([Object(yt.b)()],Pt.prototype,"getPaintingVersionScore$",void 0),Pt),wt=((Ot=function t(){_classCallCheck(this,t)}).\u0275mod=o.Kb({type:Ot}),Ot.\u0275inj=o.Jb({factory:function(t){return new(t||Ot)},providers:[mt],imports:[[c.c,bt,l.d.forFeature("grecoh",kt),yt.c.forFeature([It]),N.e,N.m,N.b,N.j,L.b]]}),Ot)},mrSG:function(t,e,n){"use strict";function i(t,e,n,i){var r,s=arguments.length,c=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(s<3?r(c):s>3?r(e,n,c):r(e,n))||c);return s>3&&c&&Object.defineProperty(e,n,c),c}n.d(e,"a",(function(){return i}))}}]);